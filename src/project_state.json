{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 7,
  "summary": "Build a mobile-friendly Internet Computer (Caffeine) web app that behaves like an Android app, featuring a fully functional scientific calculator with a premium white/light theme, browser-only history, and a local rule-based step-by-step solver; display the name \"Soumyajit Dutta\" in the UI; add a UPI-based premium unlock flow that reveals an enhanced/premium step-solver experience after payment.",
  "architectural_notes": [
    "Target platform is an Internet Computer web app built with Caffeine (web only; no native Android APK).",
    "History is stored locally in the browser (e.g., localStorage/IndexedDB); no backend persistence or cross-device sync.",
    "Step-by-step solver must be generated locally via rule-based logic; do not call external AI APIs.",
    "Header should support a user-provided logo asset displayed alongside the “Soumyajit Dutta” text without altering the premium light theme styling.",
    "Premium unlock must be implemented client-side (no reliable UPI payment verification in-app via deep link); store unlock state locally (e.g., localStorage/IndexedDB) and treat it as non-secure/UX-only unless a real verification backend is added."
  ],
  "known_issues": [
    "Caffeine build/deploy encountered a configuration error during the logo update attempt; requires retry or environment/config investigation.",
    "UPI deep-link flow cannot be programmatically verified as paid from within the browser; premium unlocking based on click/return is not secure and may be inaccurate."
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-build-a-complete-mobile-friendly-internet-computer-web-app-not-a-native-android-apk-that-presents-a-single-page-scientific-calculator-experience-and-behaves-like-an-android-app-app-shell-style-layout-suitable-for-being-added-to-home-screen",
      "title": "Build a complete mobile-friendly Internet Computer web app (not a native Android APK) that presents a single-page scientific calculator experience and “behaves like an Android app” (app-shell style layout suitable for being added to home screen).",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-scientific-calculator-ui-with-the-provided-button-set-and-operations-ac-backspace-parentheses-sin-cos-tan-log-ln-x-x-y-digits-decimal-point-e-factorial-and-for-evaluation",
      "title": "Implement the scientific calculator UI with the provided button set and operations: AC, backspace, parentheses, sin, cos, tan, √, log, ln, x², x^y, digits, decimal point, ±, +, −, ×, ÷, π, e, factorial (!), and = for evaluation.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-calculation-history-saved-only-in-the-browser-local-persistence-provide-ui-to-view-history-and-clear-it",
      "title": "Implement calculation history saved only in the browser (local persistence). Provide UI to view history and clear it.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-local-rule-based-ai-step-solver-that-produces-a-detailed-step-by-step-explanation-for-the-current-expression-when-evaluated-without-calling-any-external-ai-apis",
      "title": "Add a local, rule-based “AI step solver” that produces a detailed step-by-step explanation for the current expression when evaluated, without calling any external AI APIs.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-premium-white-light-visual-theme-consistently-across-the-app-typography-spacing-surfaces-button-hierarchy-focus-states-and-ensure-a-polished-mobile-first-layout",
      "title": "Apply a premium white/light visual theme consistently across the app (typography, spacing, surfaces, button hierarchy, focus states) and ensure a polished, mobile-first layout.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-display-the-name-soumyajit-dutta-in-the-app-ui-in-a-clear-intentional-location-e-g-header-title-area-as-part-of-the-calculator-page",
      "title": "Display the name “Soumyajit Dutta” in the app UI in a clear, intentional location (e.g., header/title area) as part of the calculator page.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-choose-and-apply-one-coherent-distinct-visual-direction-for-the-premium-light-theme-colors-typography-component-shapes-and-enforce-it-consistently-across-all-screens-components",
      "title": "Choose and apply one coherent, distinct visual direction for the premium light theme (colors, typography, component shapes) and enforce it consistently across all screens/components.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-user-uploaded-logo-image-file-00000000b77c72089c9effad0d4cec39-png-to-the-app-s-static-assets-and-render-it-in-the-calculator-header-alongside-the-existing-soumyajit-dutta-text-do-not-replace-the-name-keeping-the-current-premium-white-light-theme-intact",
      "title": "Add the user-uploaded logo image (file_00000000b77c72089c9effad0d4cec39.png) to the app’s static assets and render it in the calculator header alongside the existing “Soumyajit Dutta” text (do not replace the name), keeping the current premium white/light theme intact.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-header-layout-implementation-in-frontend-src-features-calculator-calculatorpage-tsx-to-accommodate-the-added-logo-while-preserving-current-spacing-typography-and-overall-header-hierarchy",
      "title": "Update the header layout implementation in frontend/src/features/calculator/CalculatorPage.tsx to accommodate the added logo while preserving current spacing, typography, and overall header hierarchy.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-premium-section-in-the-calculator-ui-that-renders-directly-below-the-step-by-step-solution-panel-and-only-on-the-calculator-view-not-the-history-view-this-section-must-include-two-buttons-with-the-exact-upi-deep-links-provided-1-unlock-premium-ai-step-solver-50-opening-upi-pay-pa-soumya83918-ptyes-pn-soumyajit-dutta-tn-ai-premium-feature-am-50-cu-inr-and-2-donate-via-upi-opening-upi-pay-pa-soumya83918-ptyes-pn-soumyajit-dutta-tn-donation-cu-inr",
      "title": "Add a new “Premium” section in the calculator UI that renders directly below the Step-by-Step Solution panel (and only on the Calculator view, not the History view). This section must include two buttons with the exact UPI deep links provided: (1) “Unlock Premium AI Step Solver (₹50)” opening `upi://pay?pa=soumya83918@ptyes&pn=Soumyajit Dutta&tn=AI Premium Feature&am=50&cu=INR` and (2) “Donate via UPI” opening `upi://pay?pa=soumya83918@ptyes&pn=Soumyajit Dutta&tn=Donation&cu=INR`.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-an-in-app-premium-unlock-state-that-is-triggered-by-the-upi-unlock-flow-and-persists-locally-in-the-browser-no-backend-verification-after-the-user-initiates-the-unlock-payment-the-ui-must-provide-a-clear-in-app-confirmation-action-to-mark-premium-as-unlocked-do-not-rely-only-on-an-alert",
      "title": "Implement an in-app premium unlock state that is triggered by the UPI unlock flow and persists locally in the browser (no backend verification). After the user initiates the unlock payment, the UI must provide a clear in-app confirmation action to mark premium as unlocked (do not rely only on an alert).",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-gate-the-step-by-step-solution-experience-based-on-premium-status-when-premium-is-not-unlocked-the-steps-panel-must-show-a-limited-basic-step-view-and-a-visible-prompt-indicating-that-premium-unlock-reveals-the-full-detailed-step-solver-when-premium-is-unlocked-the-steps-panel-must-show-the-full-detailed-step-list",
      "title": "Gate the Step-by-Step Solution experience based on premium status: when premium is NOT unlocked, the Steps panel must show a limited/basic step view and a visible prompt indicating that premium unlock reveals the full/detailed step solver; when premium IS unlocked, the Steps panel must show the full detailed step list.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Create an Internet Computer (Caffeine) mobile-friendly web app shell for the calculator (PWA-like UX, not native APK)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Integrate a fully functional scientific calculator UI with all scientific functions and mobile-friendly layout",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Implement browser-only calculation history (persist locally, no backend sync)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add a detailed local rule-based step-by-step solver (no external AI APIs) to explain calculations",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Apply a premium white/light theme and display the name \"Soumyajit Dutta\" in the app UI",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Keep the Internet Computer backend canister minimal and functional for deployment (no backend persistence for history), ensuring the project compiles and runs as a complete IC app.",
      "reqIds": [
        "REQ-7"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add a user-provided logo image to the app header alongside “Soumyajit Dutta” while preserving the premium white/light theme",
      "reqIds": [],
      "status": "in_progress"
    },
    {
      "id": "AR-14",
      "summary": "Add a UPI payment/donation section below the AI Step Solver and implement an in-app premium unlock state that enables the premium step solver after payment",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Scientific calculator IC web app with browser history, local step-by-step solver, and premium light theme",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}